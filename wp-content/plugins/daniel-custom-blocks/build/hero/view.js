(()=>{class t{constructor(t){this.hero=t,this.slider=t.querySelector(".hero-slider"),this.images=t.querySelectorAll(".hero-image-wrapper"),this.nextButton=t.querySelector(".next-slide"),this.prevButton=t.querySelector(".prev-slide"),this.activeIndex=0,this.totalSlides=this.images.length,this.isTouching=!1,this.touchStartX=0,this.touchStartY=0,this.currentTranslate=0,this.prevTranslate=0,this.slideWidth=t.offsetWidth,this.swipeDirection=null,this.directionThreshold=10}init(){this.addTouchListener(),this.addButtonListeners(),this.updateSliderPosition(!1),window.addEventListener("resize",(()=>this.handleResize()))}handleResize(){this.slideWidth=this.hero.offsetWidth,this.updateSliderPosition(!1)}updateSliderPosition(t=!0){this.slider.style.transition=t?"transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1)":"none",this.currentTranslate=-this.activeIndex*this.slideWidth,this.slider.style.transform=`translate3d(${this.currentTranslate}px, 0, 0)`,this.updateActiveSlide(),this.handleVideoPlayback()}updateActiveSlide(){this.images.forEach(((t,e)=>{e===this.activeIndex?t.classList.add("active"):t.classList.remove("active")})),this.updateNavigationButtons()}updateNavigationButtons(){this.prevButton&&(0===this.activeIndex?(this.prevButton.style.opacity="0",this.prevButton.style.pointerEvents="none"):(this.prevButton.style.opacity="1",this.prevButton.style.pointerEvents="all")),this.nextButton&&(this.activeIndex===this.totalSlides-1?(this.nextButton.style.opacity="0",this.nextButton.style.pointerEvents="none"):(this.nextButton.style.opacity="1",this.nextButton.style.pointerEvents="all"))}handleVideoPlayback(){this.images.forEach(((t,e)=>{const i=t.querySelector("video");i&&(e===this.activeIndex?i.play():i.pause())}))}nextSlide(){this.activeIndex<this.totalSlides-1?(this.activeIndex++,this.updateSliderPosition()):this.snapToSlide()}prevSlide(){this.activeIndex>0?(this.activeIndex--,this.updateSliderPosition()):this.snapToSlide()}snapToSlide(){this.activeIndex=Math.round(Math.abs(this.currentTranslate)/this.slideWidth),this.updateSliderPosition()}addTouchListener(){this.hero.addEventListener("touchstart",(t=>this.touchStartHandler(t))),this.hero.addEventListener("touchmove",(t=>this.touchMoveHandler(t))),this.hero.addEventListener("touchend",(()=>this.touchEndHandler()))}touchStartHandler(t){this.isTouching=!0,this.swipeDirection=null,this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.prevTranslate=this.currentTranslate,this.slider.style.transition="none"}touchMoveHandler(t){if(!this.isTouching)return;const e=t.touches[0].clientX,i=t.touches[0].clientY,s=e-this.touchStartX,h=i-this.touchStartY;this.swipeDirection||(Math.abs(s)>Math.abs(h)&&Math.abs(s)>this.directionThreshold?this.swipeDirection="horizontal":Math.abs(h)>Math.abs(s)&&Math.abs(h)>this.directionThreshold&&(this.swipeDirection="vertical")),"horizontal"===this.swipeDirection&&(t.preventDefault(),this.currentTranslate=this.prevTranslate+s,this.slider.style.transform=`translate3d(${this.currentTranslate}px, 0, 0)`)}touchEndHandler(){if(this.isTouching){if(this.isTouching=!1,"horizontal"===this.swipeDirection){const t=this.slideWidth/4;this.currentTranslate-this.prevTranslate<-t?this.nextSlide():this.currentTranslate-this.prevTranslate>t?this.prevSlide():this.snapToSlide()}this.swipeDirection=null}}addButtonListeners(){this.nextButton&&this.nextButton.addEventListener("click",(()=>this.nextSlide())),this.prevButton&&this.prevButton.addEventListener("click",(()=>this.prevSlide()))}}document.querySelectorAll("section.hero").forEach((e=>{new t(e).init()}))})();